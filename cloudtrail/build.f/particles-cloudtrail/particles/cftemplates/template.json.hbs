{{#layout}}

  {{parameter "deployer_s3_bucket_postfix" logicalId="DeployerS3BucketPostfix"}}
  {{parameter "deployer_s3_key" logicalId="DeployerS3Key"}}
  {{parameter "deployer_module_name" logicalId="DeployerModuleName"}}
  {{parameter "federation_module_name" logicalId="FederationModuleName"}}
  {{parameter "federation_role_name" logicalId="FederationRoleName"}}

  {{resource "deployer_lambda_function" logicalId="DeployerLambdaFunction"}}
  {{resource "federation_lambda_function" logicalId="FederationLambdaFunction"}}
  {{resource "deployer_lambda_execution_role" logicalId="DeployerLambdaExecutionRole"}}
  {{resource "cloudtrail_checker_function_info" logicalId="CloudTrailCheckerFunctionInfo"}}
  {{resource "cloudtrail_enabler_function_info" logicalId="CloudTrailEnablerFunctionInfo"}}
  {{resource "cloudtrail_remover_function_info" logicalId="CloudTrailRemoverFunctionInfo"}}
  {{resource "cloudtrail_function_role_info" logicalId="CloudTrailFunctionRoleInfo"}}
  {{resource "cloudtrail_role_federation" logicalId="CloudTrailRoleFederation"}}

  {{output "account_id" logicalId="AccountId"}}
  {{output "stacks_region" logicalId="StacksRegion"}}
  {{output "cloudtrail_checker_function_name" logicalId="CloudTrailCheckerFunctionName"}}
  {{output "cloudtrail_checker_function_arn" logicalId="CloudTrailCheckerFunctionArn"}}
  {{output "cloudtrail_enabler_function_name" logicalId="CloudTrailEnablerFunctionName"}}
  {{output "cloudtrail_enabler_function_arn" logicalId="CloudTrailEnablerFunctionArn"}}
  {{output "cloudtrail_remover_function_name" logicalId="CloudTrailRemoverFunctionName"}}
  {{output "cloudtrail_remover_function_arn" logicalId="CloudTrailRemoverFunctionArn"}}
  {{output "cloudtrail_function_role_arn" logicalId="CloudTrailFunctionRoleArn"}}

{{/layout}}
